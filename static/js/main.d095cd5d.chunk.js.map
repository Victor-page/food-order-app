{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Cart/Input/Input.module.css","components/Cart/Checkout.module.css","components/Meals/MealItem/MealItem.module.css","components/Meals/AvailableMeals.module.css","components/UI/Modal.module.css","components/Layout/Header.module.css","components/Meals/MealsSummary.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","store/cart-context.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","assets/meals.jpg","components/Layout/Header.js","components/Meals/MealsSummary.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","components/Cart/CartItem.js","components/UI/Modal.js","hooks/useForm.js","components/Cart/Input/Input.js","utils/inputValidationRules.js","utils/formConfig.js","components/Cart/Checkout.js","components/Cart/Cart.js","store/CartProvider.js","App.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearCart","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","props","useState","btnIsHighLighted","setBtnIsHighLighted","useContext","numberOfCartItems","reduce","curNumber","amount","btnClasses","classes","button","bump","useEffect","length","timer","setTimeout","clearTimeout","className","onClick","icon","badge","Header","header","onShowCart","src","mealsImage","alt","MealsSummary","summary","Card","card","children","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","MealItem","cartCtx","price","toFixed","meal","name","description","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchMeals","a","fetch","response","ok","Error","json","key","responseData","loadedMeals","Object","hasOwnProperty","call","push","catch","message","finally","bind","MealsLoading","MealsError","mealsList","map","Meals","CartItem","actions","onRemove","onAdd","Backdrop","backdrop","onClose","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","useForm","formObj","setForm","inputObjects","values","renderInputObjects","inputObj","errorMessage","valid","renderInput","onInputChange","isInputFieldValid","useCallback","inputField","validationRules","rule","validate","target","isValidInput","touched","renderFormInputs","isFormValid","isValid","arr","i","getInputValues","inputValues","entries","handleChange","inputContainer","onChange","error","memo","createValidationRule","ruleName","validateFunc","requiredRule","inputName","inputValue","minLengthRule","minCharacters","maxLengthRule","maxCharacters","createFormFieldConfig","email","street","postalCode","city","Checkout","onConfirm","onCancel","disabled","Cart","setError","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","isCheckout","setIsCheckout","hasItems","cartItemRemoveHandler","cartItemAddHandler","unexpectedTextError","submitOrder","userData","data","user","orderedItems","config","method","body","JSON","stringify","submitOrderHandler","cartItems","modalActions","cartModalContent","Fragment","total","isSubmittingModalContent","acceptCloseButton","didSubmitModalContent","isErrorModalContent","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","cartIsShown","setCartIsShown","render"],"mappings":"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","file":"static/js/main.d095cd5d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__1B45I\",\"total\":\"Cart_total__3269A\",\"actions\":\"Cart_actions__1hb89\",\"button--alt\":\"Cart_button--alt__QPPBZ\",\"button\":\"Cart_button__3LH8p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1XtkT\",\"summary\":\"CartItem_summary__2i8pE\",\"price\":\"CartItem_price__2IBJL\",\"amount\":\"CartItem_amount__2P2Hq\",\"actions\":\"CartItem_actions__36-a0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__3sQR4\",\"icon\":\"HeaderCartButton_icon__VO1t_\",\"badge\":\"HeaderCartButton_badge__2t3Dq\",\"bump\":\"HeaderCartButton_bump__11ZbM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputContainer\":\"Input_inputContainer__27BUs\",\"label\":\"Input_label__Y1gbd\",\"input\":\"Input_input__9GxA_\",\"error\":\"Input_error__25Sr9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__14nZs\",\"actions\":\"Checkout_actions__3DtLV\",\"button\":\"Checkout_button__23Xgq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__dtryL\",\"description\":\"MealItem_description__3n266\",\"price\":\"MealItem_price__YPTyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__3hRmo\",\"meals-appear\":\"AvailableMeals_meals-appear__3shqZ\",\"MealsLoading\":\"AvailableMeals_MealsLoading__PZxij\",\"MealsError\":\"AvailableMeals_MealsError__MFsn0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1nu7c\",\"modal\":\"Modal_modal__Fpemm\",\"slide-down\":\"Modal_slide-down__ONhFk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1vVH8\",\"main-image\":\"Header_main-image__zt3tp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__3VDZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1LpGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1MJsp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__3_uE5\"};","import React from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n  clearCart: () => {},\r\n});\r\n\r\nexport default CartContext;\r\n","const CartIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CartIcon;\r\n","import { useContext, useEffect, useState } from 'react';\r\n\r\nimport CartContext from '../../store/cart-context';\r\nimport CartIcon from '../Cart/CartIcon';\r\nimport classes from './HeaderCartButton.module.css';\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [btnIsHighLighted, setBtnIsHighLighted] = useState(false);\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const sumUpNumberOfAllItemsPerItemType = (curNumber, item) =>\r\n    curNumber + item.amount;\r\n\r\n  const { items } = cartCtx;\r\n\r\n  const numberOfCartItems = items.reduce(sumUpNumberOfAllItemsPerItemType, 0);\r\n\r\n  const btnClasses = `${classes.button} ${\r\n    btnIsHighLighted ? classes.bump : ''\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighLighted(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setBtnIsHighLighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  return (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={classes.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={classes.badge}>{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","export default __webpack_public_path__ + \"static/media/meals.7ea3bde3.jpg\";","import React, { Fragment } from 'react';\r\n\r\nimport HeaderCartButton from './HeaderCartButton';\r\nimport mealsImage from '../../assets/meals.jpg';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <header className={classes.header}>\r\n        <h1>ReactMeals</h1>\r\n        <HeaderCartButton onClick={props.onShowCart} />\r\n      </header>\r\n      <div className={classes['main-image']}>\r\n        <img src={mealsImage} alt=\"A table full of delicious food!\" />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import classes from './MealsSummary.module.css';\r\n\r\nconst MealsSummary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealsSummary;\r\n","import classes from './Card.module.css';\r\n\r\nconst Card = (props) => {\r\n  return <div className={classes.card}>{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={classes.input}>\r\n      <label htmlFor={props.input.id}>{props.label}</label>\r\n      <input ref={ref} {...props.input} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import { useRef, useState } from 'react';\r\n\r\nimport Input from '../../UI/Input';\r\nimport classes from './MealItemForm.module.css';\r\n\r\nconst MealItemForm = (props) => {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n  const amountInputRef = useRef();\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredAmount = amountInputRef.current.value;\r\n    const enteredAmountNumber = +enteredAmount;\r\n\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={submitHandler}>\r\n      <Input\r\n        ref={amountInputRef}\r\n        label=\"Amount\"\r\n        input={{\r\n          id: 'amount_' + props.id,\r\n          type: 'number',\r\n          min: '1',\r\n          max: '5',\r\n          step: '1',\r\n          defaultValue: '1',\r\n        }}\r\n      />\r\n      <button>+ Add</button>\r\n      {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MealItemForm;\r\n","import { useContext } from 'react';\r\n\r\nimport CartContext from '../../../store/cart-context';\r\nimport MealItemForm from './MealItemForm';\r\nimport classes from './MealItem.module.css';\r\n\r\nconst MealItem = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({\r\n      id: props.id,\r\n      name: props.name,\r\n      amount: amount,\r\n      price: props.price,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <li className={classes.meal}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <div className={classes.description}>{props.description}</div>\r\n        <div className={classes.price}>{price}</div>\r\n      </div>\r\n      <div>\r\n        <MealItemForm id={props.id} onAddToCart={addToCartHandler} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MealItem;\r\n","import { useEffect, useState } from 'react';\r\nimport Card from '../UI/Card';\r\nimport MealItem from './MealItem/MealItem';\r\nimport classes from './AvailableMeals.module.css';\r\n\r\nconst AvailableMeals = () => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [httpError, setHttpError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMeals = async () => {\r\n      const response = await fetch(\r\n        'https://react-http-7aca5-default-rtdb.firebaseio.com/meals.json'\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Sth went wrong!');\r\n      }\r\n\r\n      const responseData = await response.json();\r\n      const loadedMeals = [];\r\n\r\n      for (const key in responseData) {\r\n        if (Object.hasOwnProperty.call(responseData, key)) {\r\n          loadedMeals.push({\r\n            id: key,\r\n            name: responseData[key].name,\r\n            description: responseData[key].description,\r\n            price: responseData[key].price,\r\n          });\r\n        }\r\n      }\r\n\r\n      setMeals(loadedMeals);\r\n    };\r\n\r\n    const httpErrorHandler = ({ message }) => setHttpError(message);\r\n\r\n    fetchMeals()\r\n      .catch(httpErrorHandler)\r\n      .finally(setIsLoading.bind(null, false));\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <section className={classes.MealsLoading}>\r\n        <p>Loading...</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (httpError) {\r\n    return (\r\n      <section className={classes.MealsError}>\r\n        <p>{httpError}</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  const mealsList = meals.map((meal) => (\r\n    <MealItem\r\n      key={meal.id}\r\n      name={meal.name}\r\n      description={meal.description}\r\n      price={meal.price}\r\n      id={meal.id}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <section className={classes.meals}>\r\n      <Card>\r\n        <ul>{mealsList}</ul>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n","import { Fragment } from 'react';\r\n\r\nimport MealsSummary from './MealsSummary';\r\nimport AvailableMeals from './AvailableMeals';\r\n\r\nconst Meals = () => {\r\n  return (\r\n    <Fragment>\r\n      <MealsSummary />\r\n      <AvailableMeals />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Meals;\r\n","import classes from './CartItem.module.css';\r\n\r\nconst CartItem = (props) => {\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  return (\r\n    <li className={classes['cart-item']}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>âˆ’</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport classes from './Modal.module.css';\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onClose} />;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById('overlays');\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onClose={props.onClose} />,\r\n        portalElement\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useCallback } from 'react';\r\n\r\nconst useForm = (formObj) => {\r\n  const [form, setForm] = useState(formObj);\r\n\r\n  const inputObjects = Object.values(form);\r\n  const renderInputObjects = (inputObj) => {\r\n    const { value, label, errorMessage, valid, renderInput } = inputObj;\r\n    return renderInput(onInputChange, value, valid, errorMessage, label);\r\n  };\r\n  const renderFormInputs = () => inputObjects.map(renderInputObjects);\r\n\r\n  const isInputFieldValid = useCallback(\r\n    (inputField) => {\r\n      for (const rule of inputField.validationRules) {\r\n        if (!rule.validate(inputField.value, form)) {\r\n          inputField.errorMessage = rule.message;\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    },\r\n    [form]\r\n  );\r\n\r\n  const onInputChange = useCallback(\r\n    (event) => {\r\n      const { name, value } = event.target;\r\n      // copy input object whose value was changed\r\n      const inputObj = { ...form[name] };\r\n      // update value\r\n      inputObj.value = value;\r\n\r\n      // update input field's validity\r\n      const isValidInput = isInputFieldValid(inputObj);\r\n      // if input is valid and it was previously set to invalid\r\n      // set its valid status to true\r\n      if (isValidInput && !inputObj.valid) {\r\n        inputObj.valid = true;\r\n      } else if (!isValidInput && inputObj.valid) {\r\n        // if input is not valid and it was previously valid\r\n        // set its valid status to false\r\n        inputObj.valid = false;\r\n      }\r\n\r\n      // mark input field as touched\r\n      inputObj.touched = true;\r\n      setForm({ ...form, [name]: inputObj });\r\n    },\r\n    [form, isInputFieldValid]\r\n  );\r\n\r\n  /**\r\n   * returns boolean value indicating whether overall form is valid\r\n   *\r\n   * @param {object} formObj - object representation of a form\r\n   */\r\n  const isFormValid = useCallback(() => {\r\n    let isValid = true;\r\n    const arr = Object.values(form);\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (!arr[i].valid) {\r\n        isValid = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return isValid;\r\n  }, [form]);\r\n\r\n  const getInputValues = useCallback(() => {\r\n    const inputValues = {};\r\n    for (const [key, { value }] of Object.entries(form)) {\r\n      inputValues[key] = value;\r\n    }\r\n    return inputValues;\r\n  }, [form]);\r\n\r\n  return { renderFormInputs, isFormValid, getInputValues };\r\n};\r\n\r\nexport default useForm;\r\n","import React from 'react';\r\n\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = (props) => {\r\n  const { label, type, name, handleChange, errorMessage, isValid, value } =\r\n    props;\r\n\r\n  return (\r\n    <div className={classes.inputContainer}>\r\n      <label className={classes.label} htmlFor={name}>\r\n        {label}\r\n      </label>\r\n      <input\r\n        id={name}\r\n        className={classes.input}\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        onChange={handleChange}\r\n      />\r\n      {errorMessage && !isValid && (\r\n        <span className={classes.error}>{errorMessage}</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Input);\r\n","/**\r\n * creates and returns a validation rule object that\r\n * is used by useForm hook to validate the form inputs\r\n *\r\n * @param {string} ruleName - name of the validation rule\r\n * @param {string} errorMessage - message to display\r\n * @param {function} validateFunc - validation function\r\n */\r\nconst createValidationRule = (ruleName, errorMessage, validateFunc) => ({\r\n  name: ruleName,\r\n  message: errorMessage,\r\n  validate: validateFunc,\r\n});\r\n\r\nexport const requiredRule = (inputName) =>\r\n  createValidationRule(\r\n    'required',\r\n    `${inputName} required`,\r\n    (inputValue) => inputValue.length !== 0\r\n  );\r\n\r\nexport const minLengthRule = (inputName, minCharacters) =>\r\n  createValidationRule(\r\n    'minLength',\r\n    `${inputName} should contain atleast ${minCharacters} characters`,\r\n    (inputValue) => inputValue.length >= minCharacters\r\n  );\r\n\r\nexport const maxLengthRule = (inputName, maxCharacters) =>\r\n  createValidationRule(\r\n    'minLength',\r\n    `${inputName} cannot contain more than ${maxCharacters} characters`,\r\n    (inputValue) => inputValue.length <= maxCharacters\r\n  );\r\n","import React from 'react';\r\nimport Input from '../components/Cart/Input/Input';\r\n\r\nimport {\r\n  requiredRule,\r\n  minLengthRule,\r\n  maxLengthRule,\r\n} from './inputValidationRules';\r\n\r\n/**\r\n * creates and returns object representation of form field\r\n *\r\n * @param {string} label - label to show with the form input\r\n * @param {string} name - input name\r\n * @param {string} type - input type\r\n * @param {string} defaultValue - default value for the input\r\n */\r\nconst createFormFieldConfig = (label, name, type, defaultValue = '') => ({\r\n  renderInput: (handleChange, value, isValid, error, key) => {\r\n    return (\r\n      <Input\r\n        key={key}\r\n        name={name}\r\n        type={type}\r\n        label={label}\r\n        isValid={isValid}\r\n        value={value}\r\n        handleChange={handleChange}\r\n        errorMessage={error}\r\n      />\r\n    );\r\n  },\r\n  label,\r\n  value: defaultValue,\r\n  valid: false,\r\n  errorMessage: '',\r\n  touched: false,\r\n});\r\n\r\n// object representation of signup form\r\nexport const form = {\r\n  name: {\r\n    ...createFormFieldConfig('Full Name', 'name', 'text'),\r\n    validationRules: [\r\n      requiredRule('Name'),\r\n      minLengthRule('Name', 3),\r\n      maxLengthRule('Name', 25),\r\n    ],\r\n  },\r\n  email: {\r\n    ...createFormFieldConfig('Email', 'email', 'email'),\r\n    validationRules: [\r\n      requiredRule('Email'),\r\n      minLengthRule('Email', 10),\r\n      maxLengthRule('Email', 25),\r\n    ],\r\n  },\r\n  street: {\r\n    ...createFormFieldConfig('Street', 'street', 'text'),\r\n    validationRules: [\r\n      requiredRule('Street'),\r\n      minLengthRule('Street', 5),\r\n      maxLengthRule('Street', 50),\r\n    ],\r\n  },\r\n  postalCode: {\r\n    ...createFormFieldConfig('Postal Code', 'postalCode', 'text'),\r\n    validationRules: [\r\n      requiredRule('Postal Code'),\r\n      minLengthRule('Postal Code', 5),\r\n      maxLengthRule('Postal Code', 5),\r\n    ],\r\n  },\r\n  city: {\r\n    ...createFormFieldConfig('City', 'city', 'text'),\r\n    validationRules: [\r\n      requiredRule('City'),\r\n      minLengthRule('City', 2),\r\n      maxLengthRule('City', 50),\r\n    ],\r\n  },\r\n};\r\n","import useForm from '../../hooks/useForm';\r\nimport { form } from '../../utils/formConfig';\r\n\r\nimport classes from './Checkout.module.css';\r\n\r\nconst Checkout = (props) => {\r\n  const { renderFormInputs, isFormValid, getInputValues } = useForm(form);\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n    const inputValues = getInputValues();\r\n    props.onConfirm(inputValues);\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={confirmHandler}>\r\n      {renderFormInputs()}\r\n\r\n      <div className={classes.actions}>\r\n        <button\r\n          type=\"button\"\r\n          className={classes.button}\r\n          onClick={props.onCancel}\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button className={classes.button} disabled={!isFormValid()}>\r\n          Confirm\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useContext, useState } from 'react';\r\n\r\nimport CartContext from '../../store/cart-context';\r\nimport CartItem from './CartItem';\r\nimport Modal from '../UI/Modal';\r\nimport classes from './Cart.module.css';\r\nimport Checkout from './Checkout';\r\n\r\nconst Cart = (props) => {\r\n  const [error, setError] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [didSubmit, setDidSubmit] = useState(false);\r\n  const [isCheckout, setIsCheckout] = useState(false);\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const cartItemRemoveHandler = (id) => cartCtx.removeItem(id);\r\n\r\n  const cartItemAddHandler = (item) => cartCtx.addItem({ ...item, amount: 1 });\r\n\r\n  const orderHandler = () => {\r\n    setIsCheckout(true);\r\n  };\r\n\r\n  const unexpectedTextError = 'Sth went wrong. Please try again later.';\r\n\r\n  const handleSuccessfulSubmitOrderResponse = () => {\r\n    cartCtx.clearCart();\r\n    setDidSubmit(true);\r\n  };\r\n\r\n  const submitOrder = (userData) => {\r\n    const url =\r\n      'https://react-http-7aca5-default-rtdb.firebaseio.com/orders.json';\r\n    const data = { user: userData, orderedItems: cartCtx.items };\r\n    const config = { method: 'POST', body: JSON.stringify(data) };\r\n\r\n    return fetch(url, config);\r\n  };\r\n\r\n  const submitOrderHandler = async (userData) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const response = await submitOrder(userData);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(unexpectedTextError);\r\n      }\r\n      const { name: id } = await response.json();\r\n\r\n      if (!id) {\r\n        throw new Error(unexpectedTextError);\r\n      }\r\n\r\n      handleSuccessfulSubmitOrderResponse();\r\n    } catch ({ message }) {\r\n      setError(message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const renderCartItem = (item) => (\r\n    <CartItem\r\n      key={item.id}\r\n      name={item.name}\r\n      amount={item.amount}\r\n      price={item.price}\r\n      onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n      onAdd={cartItemAddHandler.bind(null, item)}\r\n    />\r\n  );\r\n\r\n  const cartItems = (\r\n    <ul className={classes['cart-items']}>\r\n      {cartCtx.items.map(renderCartItem)}\r\n    </ul>\r\n  );\r\n\r\n  const modalActions = (\r\n    <div className={classes.actions}>\r\n      <button className={classes['button-alt']} onClick={props.onClose}>\r\n        Close\r\n      </button>\r\n      {hasItems && (\r\n        <button className={classes.button} onClick={orderHandler}>\r\n          Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const cartModalContent = (\r\n    <React.Fragment>\r\n      {cartItems}\r\n      <div className={classes.total}>\r\n        <span>Total Amount</span>\r\n        <span>{totalAmount}</span>\r\n      </div>\r\n      {isCheckout && hasItems ? (\r\n        <Checkout onConfirm={submitOrderHandler} onCancel={props.onClose} />\r\n      ) : (\r\n        modalActions\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n\r\n  const isSubmittingModalContent = <p>Sending order data...</p>;\r\n\r\n  const acceptCloseButton = (\r\n    <div className={classes.actions}>\r\n      <button className={classes.button} onClick={props.onClose}>\r\n        Close\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  const didSubmitModalContent = (\r\n    <React.Fragment>\r\n      <p>\r\n        Successfully sent the order! U'll be contacted once we're done preparing\r\n        your order.\r\n      </p>\r\n      {acceptCloseButton}\r\n    </React.Fragment>\r\n  );\r\n\r\n  const isErrorModalContent = (\r\n    <React.Fragment>\r\n      <p>{error}</p>\r\n      {acceptCloseButton}\r\n    </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {!error && !isSubmitting && !didSubmit && cartModalContent}\r\n      {isSubmitting && isSubmittingModalContent}\r\n      {!error && !isSubmitting && didSubmit && didSubmitModalContent}\r\n      {error && isErrorModalContent}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { useReducer } from 'react';\r\nimport CartContext from './cart-context';\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n    let updatedItems;\r\n\r\n    if (existingCartItem) {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  if (action.type === 'REMOVE') {\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.id\r\n    );\r\n    const existingItem = state.items[existingCartItemIndex];\r\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n    let updatedItems;\r\n    if (existingItem.amount === 1) {\r\n      updatedItems = state.items.filter((item) => item.id !== action.id);\r\n    } else {\r\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  if (action.type === 'CLEAR') {\r\n    return defaultCartState;\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nconst CartProvider = (props) => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n\r\n  const addItemToCartHandler = (item) =>\r\n    dispatchCartAction({ type: 'ADD', item: item });\r\n\r\n  const removeItemFromCartHandler = (id) =>\r\n    dispatchCartAction({ type: 'REMOVE', id: id });\r\n\r\n  const clearCartHandler = () => dispatchCartAction({ type: 'CLEAR' });\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemFromCartHandler,\r\n    clearCart: clearCartHandler,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import { useState } from 'react';\r\n\r\nimport Header from './components/Layout/Header';\r\nimport Meals from './components/Meals/Meals';\r\nimport Cart from './components/Cart/Cart';\r\nimport CartProvider from './store/CartProvider';\r\n\r\nfunction App() {\r\n  const [cartIsShown, setCartIsShown] = useState(false);\r\n\r\n  const showCartHandler = () => {\r\n    setCartIsShown(true);\r\n  };\r\n\r\n  const hideCartHandler = () => {\r\n    setCartIsShown(false);\r\n  };\r\n\r\n  return (\r\n    <CartProvider>\r\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\r\n      <Header onShowCart={showCartHandler} />\r\n      <main>\r\n        <Meals />\r\n      </main>\r\n    </CartProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}